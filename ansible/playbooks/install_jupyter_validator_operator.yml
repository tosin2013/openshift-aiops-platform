---
# Install Jupyter Notebook Validator Operator via kustomize
# Source: k8s/operators/jupyter-notebook-validator (self-contained)
# Reference: ADR-029, ADR-030 (Hybrid Management Pattern)
#
# Usage: make install-jupyter-validator

- name: Install Jupyter Notebook Validator Operator
  hosts: localhost
  connection: local
  gather_facts: false

  vars:
    jupyter_validator_operator_enabled: true
    jupyter_validator_openshift_version: "4.18"
    jupyter_validator_kustomize_overlay: "overlays/dev-ocp4.18"

  tasks:
    - name: Display installation message
      debug:
        msg: |
          ðŸ“¦ Installing Jupyter Notebook Validator Operator
          Method: kustomize (self-contained manifests)
          Overlay: {{ jupyter_validator_kustomize_overlay }}
          Target: OpenShift {{ jupyter_validator_openshift_version }}

    - name: Deploy operator
      include_role:
        name: validated_patterns_jupyter_validator
